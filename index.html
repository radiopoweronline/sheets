<!-- INTEGRACIÓN DINÁMICA CON GOOGLE SHEETS, SIN "ver imagen" NI "ver imagen en tamaño completo" LINKS -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Power</title>
    <meta name="description" content="Escucha Radio Power, tu emisora favorita con la mejor música y programas en vivo.">
    <meta name="keywords" content="radio, música, programas en vivo, Radio Power">
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <link rel="stylesheet" href="styles.css">
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="assets/icons/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/icons/android-chrome-192x192.png">
    <link rel="manifest" href="assets/icons/site.webmanifest">
</head>
<body class="min-h-screen text-white">
<header class="bg-black bg-opacity-50 backdrop-blur-md fixed w-full z-50">
    <nav class="container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <img src="assets/logo.png" alt="Logo Radio Power" class="w-16 h-8" loading="lazy">
            <span class="text-xl sm:text-2xl font-bold neon-text">Radio Power</span>
        </div>
        <div class="hidden md:flex space-x-6 lg:space-x-8">
            <a href="#home" class="hover:text-cyan-400 transition-colors text-sm lg:text-base">Inicio</a>
            <a href="#music" class="hover:text-cyan-400 transition-colors text-sm lg:text-base">DJs</a>
            <a href="#gallery" class="hover:text-cyan-400 transition-colors text-sm lg:text-base">Eventos</a>
            <a href="player.html" class="hover:text-cyan-400 transition-colors text-sm lg:text-base">Player</a>
            <a href="video.html" class="hover:text-cyan-400 transition-colors text-sm lg:text-base">Video</a>
        </div>
        <button id="mobile-menu-btn" class="md:hidden text-white p-2">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
    </nav>
    <div id="mobile-menu" class="hidden md:hidden bg-black bg-opacity-30 backdrop-blur-md">
        <div class="px-4 py-2 space-y-2">
            <a href="#home" class="block py-2 hover:text-cyan-400 transition-colors">Inicio</a>
            <a href="#music" class="block py-2 hover:text-cyan-400 transition-colors">DJs</a>
            <a href="#gallery" class="block py-2 hover:text-cyan-400 transition-colors">Eventos</a>
            <a href="player.html" class="block py-2 hover:text-cyan-400 transition-colors">Player</a>
            <a href="video.html" class="block py-2 hover:text-cyan-400 transition-colors">Video</a>
        </div>
    </div>
</header>

<div id="home" class="pt-20"></div>

<!-- Image Slider -->
<div class="relative max-w-4xl mx-auto mb-8 sm:mb-12">
    <div class="overflow-hidden rounded-lg neon-glow">
        <div id="slider" class="flex transition-transform duration-500 ease-in-out"></div>
    </div>
    
    <!-- Slider Controls -->
    <button id="prevBtn" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
    </button>
    <button id="nextBtn" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-all">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
    </button>
    
    <!-- Slider Indicators -->
    <div id="slider-dots" class="flex justify-center mt-4 space-x-2"></div>
</div>

<!-- Nuestros DJs -->
<section id="music" class="py-8 sm:py-10">
    <div class="container mx-auto px-4 sm:px-6">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-center mb-8 sm:mb-12 neon-text">Nuestros DJs</h2>
        <div id="djs-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8"></div>
    </div>
</section>

<!-- Sección de Galería -->
<section id="gallery" class="py-16">
    <div class="container mx-auto px-6">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-center mb-8 sm:mb-12 neon-text">Galería de eventos</h2>
        <div id="gallery-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
    </div>
</section>

<div id="modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
    <div class="bg-gray-800 rounded-3xl max-w-lg w-full p-4 glow">
        <div class="text-center">
            <img id="modalImage" src="" alt="Imagen en grande" class="rounded-xl mb-4 w-full object-cover max-h-96 mx-auto">
            <h3 class="text-2xl font-bold mb-4 text-cyan-400" id="modalTitle">Título</h3>
            <p class="text-gray-400 mb-6" id="modalDescription">Descripción</p>
            <!-- LINK "ver imagen en tamaño completo" ELIMINADO -->
            <button onclick="closeModal()" class="bg-pink-500 hover:bg-pink-600 px-6 py-2 rounded-full transition-all">
                Cerrar
            </button>
        </div>
    </div>
</div>
<script>
function openModal(elem, titulo, descripcion, url) {
    var modal = document.getElementById('modal');
    document.getElementById('modalImage').src = url;
    document.getElementById('modalTitle').innerText = titulo;
    document.getElementById('modalDescription').innerText = descripcion;
    // document.getElementById('modalLink').href = url; // ELIMINADO
    modal.classList.remove('hidden');
}
function closeModal() {
    document.getElementById('modal').classList.add('hidden');
}
</script>

<script src="gallery.js"></script>

<!-- Radio Directories Section -->
<section id="radio-directories" class="py-8 sm:py-10">
    <div class="container mx-auto px-4 sm:px-6">
        <h2 class="text-2xl sm:text-2xl md:text-3xl font-bold text-center mb-8 sm:mb-12 neon-text">Escúchanos aquí</h2>
        <div class="icon-container">
            <div class="icon-row">
                <a class="icon" href="https://mytuner-radio.com/radio/radio-power-colombia-499975/" target="_blank">
                    <img src="https://i.postimg.cc/QCpxD3m3/zAoZTQJ.png" alt="MyTuner" loading="lazy" />
                </a>
                <a class="icon" href="https://onlineradiobox.com/co/power/?cs=co.power&played=1" target="_blank">
                    <img src="https://i.postimg.cc/Tw53kmWh/CYYfq5I.png" alt="RadioBox" loading="lazy" />
                </a>
                <a class="icon" href="https://co.radio.net/s/radiopowerco" target="_blank">
                    <img src="https://i.postimg.cc/d0x0mn3z/U7WLbpt.png" alt="RadioNet" loading="lazy" />
                </a>
                <a class="icon" href="https://www.emisorascolombianas.co/radio-power" target="_blank">
                    <img src="https://i.postimg.cc/0jg2hQpn/BvJlMxK.png" alt="Emisoras Colombianas" loading="lazy" />
                </a>
            </div>
            <div class="icon-row">
                <a class="icon" href="https://tunein.com/radio/Radio-Power-s329905/" target="_blank">
                    <img src="https://i.postimg.cc/Nf65q1CH/KLSVKQ9.png" alt="TuneIn" loading="lazy" />
                </a>
                <a class="icon" href="https://radios.com.co/power/" target="_blank">
                    <img src="https://i.postimg.cc/Hk3njTgW/kFGlaei.png" alt="Radios.com.co" loading="lazy" />
                </a>
                <a class="icon" href="https://www.claromusica.com/radios/CO/DC/fusagasuga" target="_blank">
                    <img src="https://i.postimg.cc/KYzzMCGP/Dfwu5Gl.png" alt="Claro Música" loading="lazy" />
                </a>
                <a class="icon" href="https://thenonstopradio.com/radio/radio-power" target="_blank">
                    <img src="https://i.postimg.cc/NjQLg5ZP/sl25VFe.png" alt="Non Stop Radio" loading="lazy" />
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Floating Radio Player -->
<div id="floating-player" class="floating-player">
    <div class="flex items-center justify-between p-3">
        <div class="flex items-center space-x-3 flex-1 min-w-0">
            <div class="w-12 h-12 bg-gradient-to-br from-black-100 to-black-100 rounded-lg flex items-center justify-center flex-shrink-0">
                <img src="assets/logo.png" alt="icono" class="w-18 h-7" loading="lazy" />
            </div>
            <div class="min-w-0 flex-1">
                <div id="radio-status" class="text-white font-semibold text-sm">Radio Power</div>
                <div id="radio-info" class="text-gray-300 text-xs truncate">Música en vivo 24/7</div>
            </div>
        </div>
        <button id="radio-play-btn" class="bg-cyan-600 hover:bg-cyan-700 text-white rounded-full p-3 mx-4 transition-all">
            <svg id="radio-play-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                <path d="M8 5v14l11-7z"/>
            </svg>
            <svg id="radio-pause-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 24 24">
                <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
            </svg>
        </button>
        <div class="flex items-center space-x-2">
            <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/>
            </svg>
            <input type="range" id="radio-volume" min="0" max="100" value="70" class="w-16 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer">
        </div>
    </div>
    <div class="absolute top-1 right-1">
        <div class="flex items-center space-x-1 bg-red-600 text-white text-xs px-2 py-1 rounded-full">
            <div class="w-2 h-2 bg-white rounded-full animate-pulse"></div>
            <span>EN VIVO</span>
        </div>
    </div>
</div>

<audio id="radio-stream" preload="none" crossorigin="anonymous">
    <source src="https://stream.zeno.fm/dlvtl3hthyxvv" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>

<script src="script.js"></script>
<script>
  document.getElementById("year").textContent = new Date().getFullYear();
</script>
<script>
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetElement = document.querySelector(targetId);
      if (targetElement) {
        const headerHeight = document.querySelector('header').offsetHeight;
        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth'
        });
      }
    });
  });
</script>
<script>
document.addEventListener('contextmenu', function(e) {
  if (e.target.tagName === 'IMG') e.preventDefault();
});
</script>

<!-- INTEGRACIÓN DINÁMICA CON GOOGLE SHEETS -->
<script>
const SHEET_ID = '1Z-Td-TDZ_cY5aORNo3kB7ah4XVTxg4WPRnklB2nBuAY';
const URL_SLIDER  = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=SLIDER`;
const URL_DJS     = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=DJS`;
const URL_GALERIA = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=GALERIA`;

/* -------- SLIDER -------- */
let slides = [];
let current = 0;

fetch(URL_SLIDER)
  .then(res => res.text())
  .then(text => {
    const json = JSON.parse(text.match(/(?<=\().*(?=\);)/s)[0]);
    slides = json.table.rows.map(row => ({
      img: row.c[1]?.v,
      alt: row.c[2]?.v,
      title: row.c[3]?.v,
      subtitle: row.c[4]?.v
    })).filter(slide => slide.img);
    renderSlides();
    renderDots();
  });

function renderSlides() {
  const slider = document.getElementById('slider');
  slider.innerHTML = slides.map((slide, i) => `
    <div class="w-full flex-shrink-0 relative ${i === current ? '' : 'hidden'}">
        <img src="${slide.img}" alt="${slide.alt}" class="w-full h-64 sm:h-80 md:h-96 object-cover"
             loading="lazy"
             onerror="this.src=''; this.alt='Imagen no disponible'; this.style.display='none';">
        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
            <div class="p-6 text-white">
                <h3 class="text-2xl md:text-4xl font-bold neon-text">${slide.title}</h3>
                <p class="text-lg">${slide.subtitle}</p>
                <!-- LINK "ver imagen" ELIMINADO -->
            </div>
        </div>
    </div>
  `).join('');
  updateDots();
}
function nextSlide() { current = (current + 1) % slides.length; renderSlides(); }
function prevSlide() { current = (current - 1 + slides.length) % slides.length; renderSlides(); }
document.getElementById('nextBtn').onclick = nextSlide;
document.getElementById('prevBtn').onclick = prevSlide;

function renderDots() {
  const dots = document.getElementById('slider-dots');
  dots.innerHTML = slides.map((_, i) => `
    <button class="slider-dot w-3 h-3 rounded-full ${i === 0 ? 'bg-cyan-400' : 'bg-gray-400'}" data-slide="${i}"></button>
  `).join('');
  dots.querySelectorAll('.slider-dot').forEach((el, idx) => {
    el.onclick = () => { current = idx; renderSlides(); };
  });
}
function updateDots() {
  const dots = document.querySelectorAll('#slider-dots .slider-dot');
  dots.forEach((dot, i) => {
    dot.classList.toggle('bg-cyan-400', i === current);
    dot.classList.toggle('bg-gray-400', i !== current);
  });
}

/* -------- DJS -------- */
fetch(URL_DJS)
  .then(res => res.text())
  .then(text => {
    const json = JSON.parse(text.match(/(?<=\().*(?=\);)/s)[0]);
    const djs = json.table.rows.map(row => ({
      img: row.c[2]?.v,
      alt: row.c[3]?.v,
      nombre: row.c[1]?.v,
      especialidad: row.c[4]?.v,
      horario: row.c[5]?.v,
      youtube: row.c[6]?.v
    })).filter(dj => dj.img && dj.nombre);

    const container = document.getElementById('djs-container');
    container.innerHTML = djs.map(dj => `
      <div class="track-card rounded-lg p-6 backdrop-blur-sm">
        <div class="mb-4">
          <img src="${dj.img}" alt="${dj.alt || dj.nombre}" class="w-full h-48 rounded-lg object-cover"
            loading="lazy"
            onerror="this.src=''; this.alt='Imagen no disponible'; this.style.display='none';">
        </div>
        <h3 class="text-xl font-bold mb-2 text-cyan-400">${dj.nombre}</h3>
        <p class="text-gray-300 mb-4">${dj.especialidad || ''}</p>
        <div class="flex justify-between items-center">
          <span class="text-sm text-gray-400">${dj.horario || ''}</span>
          <a href="${dj.youtube}" target="_blank"
             style="background-color: #080899; color: white;"
             class="hover:bg-[#1A1AB8] text-white px-4 py-2 rounded-full transition-all flex items-center">
            <img src="https://upload.wikimedia.org/wikipedia/commons/0/0a/YouTube_social_red_circle_%282024%29.svg"
                 alt="YouTube Logo" class="w-5 h-5 mr-2" loading="lazy">
            YouTube
          </a>
        </div>
        <!-- LINK "ver imagen" ELIMINADO -->
      </div>
    `).join('');
  });

/* -------- GALERIA -------- */
fetch(URL_GALERIA)
  .then(res => res.text())
  .then(text => {
    const json = JSON.parse(text.match(/(?<=\().*(?=\);)/s)[0]);
    const items = json.table.rows.map(row => ({
      img: row.c[1]?.v,
      alt: row.c[2]?.v,
      titulo: row.c[3]?.v,
      descripcion: row.c[5]?.v
    })).filter(item => item.img && item.titulo);

    const container = document.getElementById('gallery-container');
    container.innerHTML = items.map(item => `
      <div class="gallery-item aspect-square rounded-2xl overflow-hidden cursor-pointer relative group"
           onclick="openModal(this, '${item.titulo.replace(/'/g, "\\'")}', '${item.descripcion.replace(/'/g, "\\'")}', '${item.img}')">
        <img src="${item.img}" alt="${item.alt || item.titulo}" class="w-full h-full object-cover transition-transform group-hover:scale-110"
             loading="lazy"
             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
        <div class="absolute inset-0 bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center text-center" style="display: none;">
          <p class="text-white font-semibold p-4">Imagen no disponible</p>
        </div>
        <div class="absolute inset-0 bg-black/40 opacity-100 group-hover:opacity-100 transition-opacity flex items-end">
          <p class="text-white font-semibold p-4">${item.titulo}</p>
        </div>
        <!-- LINK "ver imagen" ELIMINADO -->
      </div>
    `).join('');
  });
</script>

<footer class="footer" style="text-align: center; background: transparent;">
  <p class="copy" style="margin: 0;">&copy; <span id="year"></span> Radio Power</p>
  <a href="https://www.tiktok.com/@radio.power" target="_blank" rel="noopener noreferrer" aria-label="TikTok" style="display:inline-block; margin-top:10px;">
    <svg viewBox="0 0 256 256" width="28" height="28" aria-hidden="true" style="color:#ECFF00;">
      <path fill="currentColor" d="M168 24a8 8 0 0 1 8 8c0 24.5 20.5 45 45 45a8 8 0 0 1 8 8v19a8 8 0 0 1-8 8c-17.5 0-34.3-5.5-48.1-15.7v45.6c0 38.1-31 69.1-69.1 69.1S35.6 180 35.6 141.9s31-69.1 69.1-69.1c6.3 0 12.4.8 18.2 2.4a8 8 0 0 1 5.8 7.7V114a8 8 0 0 1-11.6 7.1 29.4 29.4 0 0 0-12.4-2.8c-16.7 0-30.3 13.6-30.3 30.3s13.6 30.3 30.3 30.3 30.3-13.6 30.3-30.3V32a8 8 0 0 1 8-8h24z"/>
    </svg>
  </a>
</footer>
</body>
</html>